(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{64187:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/P2P",function(){return n(78724)}])},45359:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var s=n(85893),i=n(67294),a=n(97256),r=n.n(a),o=n(41664),l=n.n(o),c=n(25675),x=n.n(c),d=n(69077);function p(){let{address:e,connector:t,isConnected:n}=(0,d.mA)(),{data:a}=(0,d.c9)({address:e}),[o,c]=(0,i.useState)(!1),p=()=>{c(!o)};return(0,s.jsxs)("div",{className:"".concat(r().background," flex flex-col items-start justify-between transition-all duration-300 ease-in-out min-h-screen ").concat(o?"w-[30%]":"w-[8.2%]"),onMouseEnter:p,onMouseLeave:p,children:[(0,s.jsxs)("div",{className:"flex items-center justify-start gap-10 mt-[30px] ml-[35px]",children:[(0,s.jsx)(x(),{src:"/Logo.svg",alt:"logo",width:57,height:64}),(0,s.jsx)("div",{className:"".concat(r().fadeIn," ").concat(o?r().active:""," p-4 bg-gray-200 my-4  font-poppins font-normal font-medium text-32 leading-48 text-white"),children:"EnergySwap"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start justify-center",children:[(0,s.jsxs)(l(),{href:"/",className:"flex items-center justify-start gap-10 ml-[35px] cursor-pointer",children:[(0,s.jsx)("div",{className:"".concat(r().iconContainer," flex items-center justify-center"),children:(0,s.jsx)(x(),{src:"images/Home.svg",alt:"Home",width:37,height:34})}),(0,s.jsx)("div",{className:"".concat(r().fadeIn," ").concat(o?r().active:""," hover:text-green-500 font-poppins font-normal font-medium text-[24px] leading-[36px] text-white ml-[98px]"),children:"Home"})]}),(0,s.jsxs)(l(),{href:"/P2P",className:"flex items-center justify-start gap-10 mt-[45px] ml-[35px] ",children:[(0,s.jsx)("div",{className:"".concat(r().iconContainer," flex items-center justify-center"),children:(0,s.jsx)(x(),{src:"images/P2P.svg",alt:"P2P",width:37,height:34})}),(0,s.jsx)("div",{className:"".concat(r().fadeIn," ").concat(o?r().active:""," hover:text-green-500 font-poppins font-normal font-medium text-[24px] leading-[36px] text-white ml-[98px]"),children:"P2P"})]}),(0,s.jsxs)(l(),{href:"/Dashboard",className:"flex items-center justify-start gap-10 mt-[45px] ml-[35px] ",children:[(0,s.jsx)("div",{className:"".concat(r().iconContainer," flex items-center justify-center"),children:(0,s.jsx)(x(),{src:"images/Dashboard.svg",alt:"Dashboard",width:37,height:34})}),(0,s.jsx)("div",{className:"".concat(r().fadeIn," ").concat(o?r().active:""," hover:text-green-500 font-poppins font-normal font-medium text-[24px] leading-[36px] text-white ml-[98px]"),children:"Dashboard"})]}),(0,s.jsxs)(l(),{href:"/About",className:"flex items-center justify-start gap-10 mt-[45px] ml-[35px] ",children:[(0,s.jsx)("div",{className:"".concat(r().iconContainer," flex items-center justify-center"),children:(0,s.jsx)(x(),{src:"images/About.svg",alt:"About",width:37,height:34})}),(0,s.jsx)("div",{className:"".concat(r().fadeIn," ").concat(o?r().active:""," hover:text-green-500 font-poppins font-normal font-medium text-[24px] leading-[36px] text-white ml-[98px]"),children:"About"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-start gap-8 mb-[30px] ml-[35px] ",children:[(0,s.jsx)(x(),{src:void 0!=a?a:"images/profile.svg",alt:"About",width:64,height:64}),(0,s.jsx)("div",{className:"".concat(r().fadeIn," ").concat(o?r().active:""," font-poppins font-normal font-medium text-[24px] leading-[36px] text-white"),children:void 0!=e?"".concat(e.slice(0,5),"....").concat(e.slice(-3)):"0x265....82a"})]})]})}},58655:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(85893);n(67294);var i=n(51522),a=n.n(i),r=n(25675),o=n.n(r);function l(){return(0,s.jsx)("div",{className:a().spinner_container,children:(0,s.jsx)("div",{className:a().loading_spinner,children:(0,s.jsx)(o(),{src:"/Logo.svg",alt:"logo",width:40,height:46})})})}},78724:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var s=n(7297),i=n(85893),a=n(9008),r=n.n(a),o=n(6725),l=n.n(o),c=n(45359),x=n(67294),d=n(19521),p=n(69077),m=n(58655);function f(){let e=(0,s.Z)(["\n  0% {\n      opacity: 0;\n      transform: scale(0);\n  }\n\n  80% {\n      transform: scale(1.07);\n  }\n\n  100% {\n      opacity: 1;\n      transform: scale(1);\n  }\n"]);return f=function(){return e},e}function u(){let e=(0,s.Z)(["\n  background: #C2FFED;\n  "]);return u=function(){return e},e}function h(){let e=(0,s.Z)(["\n  animation: "," 300ms ","ms ease-in-out forwards;\n"]);return h=function(){return e},e}function g(){let e=(0,s.Z)(["\n  opacity: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 40px;\n  padding-left: 15px;\n  padding-right: 15px;\n  cursor: pointer;\n\n  &:hover {\n      background: #E9E9E9;\n  }\n\n  ","\n\n  transform-origin: top center;\n  \n  ","\n  "]);return g=function(){return e},e}let w=(0,d.F4)(f()),j=d.ZP.div(g(),e=>e.active&&(0,d.iv)(u()),e=>e.index&&(0,d.iv)(h(),w,60*e.index)),v=["EFT Token","method 2","method 3"];function y(){let[e,t]=(0,x.useState)("Buyer"),[n,s]=(0,x.useState)("EFT Token"),[a,o]=(0,x.useState)(""),[d,f]=(0,x.useState)(""),[u,h]=(0,x.useState)(""),[g,w]=(0,x.useState)(""),[y,_]=(0,x.useState)(""),[N,b]=(0,x.useState)(""),[P,S]=(0,x.useState)(""),[I,D]=(0,x.useState)([]),[R,C]=(0,x.useState)(!0),[A,E]=(0,x.useState)(!1),{address:F,connector:T,isConnected:B}=(0,p.mA)(),{data:k}=(0,p.F6)({address:F});(0,x.useEffect)(()=>{if("Seller"==e){S("");let t=async()=>{try{C(!0);let e=await fetch("http://localhost:4000/user/becomeSeller",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!e.ok)throw Error("Request failed");let t=await e.json();console.log("Response:",t),C(!1)}catch(n){console.error("Error:",n.message),C(!1)}};(async function(){try{let e=await fetch("http://localhost:4000/user/role");if(!e.ok)throw Error("Failed to fetch user role");let t=await e.json();return t}catch(n){console.error("Error:",n.message)}})().then(e=>{console.log("User Role:",e.role),1!=e.role&&t()}).catch(e=>{console.error("Error:",e.message)})}else if("Buyer"===e){let n=async()=>{try{C(!0);let e=await fetch("http://localhost:4000/user/listings"),t=await e.json();D([...t.listings].reverse()),C(!1)}catch(n){console.error("Error fetching energy data:",n),C(!1)}};n()}let s=async()=>{let e=await fetch("https://min-api.cryptocompare.com/data/price?fsym=USD&tsyms=MATIC"),t=await e.json(),n=t.MATIC;b(n)};s()},[e]),(0,x.useEffect)(()=>{""==a||""==d?h(""):a<=0||d<=0?h("Price Per Unit should be a positive number > zero!"):h("")},[a,d]),(0,x.useEffect)(()=>{""==g?_(""):g<=0?_("Amount should be a positive number > zero !"):_("")},[g]);let M=(e,t)=>{"usd"==t?(o(e.target.value),f((N*e.target.value).toFixed(3))):"matic"==t&&(f(e.target.value),o((1/N*e.target.value).toFixed(3)))};async function O(e,t){try{C(!0),S("");let n=await fetch("http://localhost:4000/user/addListing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({units:e,pricePerUnit:t})});if(!n.ok)throw C(!1),Error("Request failed with status "+n.status);let s=await n.json();console.log("Listing added successfully:",s),s&&(C(!1),S(s.message))}catch(i){S(i.message),console.error("Error adding listing:",i)}}let z=()=>{""==a&&h("Price Per Unit is empty"),""==g&&_("Amount is empty"),""==u&&""==y&&""!=a&&""!=g?(console.log("Create listing !"),O(g,a)):console.log("Error!")};return console.log("listings",I),console.log("loadin",R),(0,i.jsxs)("div",{children:[(0,i.jsxs)(r(),{children:[(0,i.jsx)("title",{children:"Buyer"}),(0,i.jsx)("meta",{name:"description",content:"Buy/Sell your renewable energy"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)(c.Z,{}),(0,i.jsxs)("main",{className:"".concat(l().main," flex flex-col items-center justify-start ml-[8.2%]"),children:[(0,i.jsx)("div",{className:"font-barlow font-bold text-[56px] leading-[67px] text-white w-[90%] mt-[60px]",children:"Buyer"==e?"Buy renewable energy":"Seller"==e&&"Sell your renewable energy"}),(0,i.jsx)("div",{className:"flex items-center justify-end mb-[30px] mt-[24px] w-[90%]",onClick:()=>"Buyer"==e?t("Seller"):"Seller"==e&&t("Buyer"),children:(0,i.jsx)("div",{className:"font-montserrat font-bold text-[40px] leading-[120%] underline text-white cursor-pointer hover:text-green-500",children:"Buyer"==e?"Sell":"Seller"==e&&"Buy"})}),"Buyer"==e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:" z-40 flex items-center justify-between w-[90%] mt-[64px]",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-[26px]",children:[(0,i.jsxs)("div",{className:"flex flex-col items-start justify-center gap-[16px]",children:[(0,i.jsx)("div",{className:"font-montserrat font-bold text-[24px] leading-[29px] text-white",children:"Amount"}),(0,i.jsx)("input",{className:"bg-[#F0F0F0] rounded-[10px] h-[44px] pl-[16px] ".concat(l().amountInput),type:"text",placeholder:"Enter Amount"})]}),(0,i.jsxs)("div",{className:"flex flex-col items-start justify-center gap-[16px]",children:[(0,i.jsx)("div",{className:"font-montserrat font-bold text-[24px] leading-[29px] text-white",children:"Payment Method"}),(0,i.jsxs)("div",{className:"".concat(l().userReviewRatingDropDown," ").concat(!0==A&&l().selected),onClick:()=>E(!A),children:[(0,i.jsx)("div",{className:"".concat(l().userReviewRatingDropDownText," ").concat(!1==A&&l().selected),children:n}),(0,i.jsx)("img",{src:"/images/chevronDown.svg",alt:"chevronDown",className:"".concat(l().ReviewRatingDropDownArrow," ").concat(!0==A&&l().selectedArrow)})]}),A&&(0,i.jsx)("div",{className:"".concat(l().dropdownRatingMenu),children:null==v?void 0:v.map((e,t)=>(0,i.jsxs)(j,{index:t+1,onClick:()=>{E(!A),s(e)},active:e==n,children:[(0,i.jsx)("div",{className:l().optionData,children:(0,i.jsx)("div",{className:l().ratingOptionName,children:e})}),e==n&&(0,i.jsx)("img",{src:"images/dropDownOptionSelected.svg",alt:"dropDownOptionSelected",style:{width:"24px",height:"20px"},className:l().dropDownSelectedIcon})]},t))})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between gap-[26px]",children:[(0,i.jsxs)("div",{className:"flex flex-col items-start justify-center gap-[16px]",children:[(0,i.jsx)("div",{className:"font-montserrat font-bold text-[24px] leading-[29px] text-white",children:"Search"}),(0,i.jsx)("input",{className:"bg-[#F0F0F0] rounded-[10px] h-[44px] pl-[20px] ".concat(l().amountInput),type:"text",placeholder:"Find Seller or location"})]}),(0,i.jsxs)("div",{className:"flex flex-col items-start justify-center gap-[16px]",children:[(0,i.jsx)("div",{className:"font-montserrat font-bold text-[24px] leading-[29px] text-white",children:"Location"}),(0,i.jsx)("input",{className:"bg-[#F0F0F0] rounded-[10px] h-[44px] pl-[20px]  w-[234px] ".concat(l().amountInput),type:"text",placeholder:"Bangalore, IN"})]})]})]}),(0,i.jsxs)("div",{className:"z-20 flex items-center justify-between w-[90%] mt-[45px] mb-[10px]",children:[(0,i.jsxs)("div",{className:"font-montserrat font-bold text-white text-center text-[24px] leading-[29px] pl-[45px] w-[8%]",children:["Wallet",(0,i.jsx)("br",{}),"Address"]}),(0,i.jsxs)("div",{className:"font-montserrat font-bold text-white text-center text-[24px] leading-[29px]",children:["Price",(0,i.jsx)("br",{}),"(per unit)"]}),(0,i.jsxs)("div",{className:"font-montserrat font-bold text-white text-center text-[24px] leading-[29px]",children:["Available",(0,i.jsx)("br",{}),"Amount"]}),(0,i.jsxs)("div",{className:"font-montserrat font-bold text-white text-center text-[24px] leading-[29px]",children:["Payment",(0,i.jsx)("br",{}),"Method"]}),(0,i.jsx)("div",{className:"font-montserrat font-bold text-white text-center text-[24px] leading-[29px]",children:"Total"}),(0,i.jsx)("div",{className:"font-montserrat font-bold text-white text-center text-[24px] leading-[29px] w-[23%]",children:"Action"})]}),I&&I.map((e,t)=>{var n,s;return console.log("listing",e),e[3]&&(0,i.jsxs)("div",{className:"".concat(l().dataRowContainer," z-20 flex items-center justify-between w-[90%] mt-[20px] py-[48px]"),children:[(0,i.jsxs)("div",{className:"flex justify-center items-center font-montserrat font-normal text-white text-center text-[24px] leading-[29px] pl-[45px] w-[10%]",children:[null===(n=e[0])||void 0===n?void 0:n.slice(0,4),"....$",null===(s=e[0])||void 0===s?void 0:s.slice(-4)]}),(0,i.jsxs)("div",{className:"flex justify-center items-center font-montserrat font-normal text-white text-center text-[24px] leading-[29px] w-[8%]",children:[(parseInt(e[2].hex,16)*N).toFixed(3)," MATIC"]}),(0,i.jsx)("div",{className:"flex justify-center items-center font-montserrat font-normal text-white text-center text-[24px] leading-[29px] w-[8%]",children:parseInt(e[1].hex,16)}),(0,i.jsx)("div",{className:"flex justify-center items-center font-montserrat font-normal text-white text-center text-[24px] leading-[29px] w-[8%]",children:"EFT"}),(0,i.jsxs)("div",{className:"flex justify-center items-center font-montserrat font-normal text-white text-center text-[24px] leading-[29px] w-[8%]",children:[(parseInt(e[2].hex,16)*N*parseInt(e[1].hex,16)).toFixed(3)," MATIC"]}),(0,i.jsx)("div",{className:"flex items-center justify-end pr-[30px] w-[23%]",children:(0,i.jsx)("button",{className:"".concat(l().placeRequestBtn," px-[20px] py-[5px] hover:bg-green-500 font-poppins font-bold text-[24px] leading-[36px] text-white transition-colors duration-300"),children:"Place Request"})})]},t)}),R&&(0,i.jsx)(m.Z,{})]}):"Seller"==e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"z-20 font-barlow font-medium text-white text-[48px] leading-[58px] w-[90%] pl-[10%] mt-[30px]",children:"Enter details:"}),(0,i.jsxs)("div",{className:"z-20 flex items-center justify-between w-[70%] ml-[6%] mt-[36px]",children:[(0,i.jsx)("div",{className:"font-barlow font-normal text-white text-[36px] leading-[43px]",children:"Price per unit (USD)"}),(0,i.jsxs)("div",{className:"flex items-center justify-between w-[60%] px-[10px] border-[1px] rounded-[5px] py-[10px] font-barlow font-normal text-white text-[32px] leading-[38px]",children:[(0,i.jsx)("input",{type:"number",placeholder:"0",value:a,className:"".concat(l().pricePerUnitInput," text-right mr-[8px]"),onChange:e=>M(e,"usd")}),"USD",(0,i.jsx)("input",{type:"number",placeholder:"0",className:"".concat(l().pricePerUnitInput," text-right mx-[8px]"),value:d,onChange:e=>M(e,"matic")}),"MATIC"]})]}),(0,i.jsx)("div",{className:"".concat(""==u&&"hidden","  w-[60%] mt-[10px] text-right text-[red]"),children:u}),(0,i.jsxs)("div",{className:"z-20 flex items-center justify-between w-[70%] ml-[6%] mt-[36px]",children:[(0,i.jsx)("div",{className:"font-barlow font-normal text-white text-[36px] leading-[43px]",children:"Amount (NRGT)"}),(0,i.jsx)("div",{className:"flex items-center justify-center w-[60%] border-[1px] rounded-[5px] py-[10px] font-barlow font-normal text-white text-[32px] leading-[38px]",children:(0,i.jsx)("input",{type:"number",placeholder:"0",value:g,className:"".concat(l().amountInputSeller," text-center"),onChange:e=>w(e.target.value)})})]}),(0,i.jsx)("div",{className:"".concat(""==y&&"hidden"," w-[58%] mt-[10px] text-right text-[red] ml-[5px]"),children:y}),(0,i.jsxs)("div",{className:"z-20 flex items-center justify-between w-[70%] ml-[6%] mt-[36px]",children:[(0,i.jsx)("div",{className:"font-barlow font-normal text-white text-[36px] leading-[43px]",children:"Total Price"}),(0,i.jsxs)("div",{className:"flex items-center justify-center w-[60%] border-[1px] rounded-[5px] py-[10px] font-barlow font-normal text-white text-[32px] leading-[38px]",children:[(a*g).toFixed(2)," USD\xa0 \xa0 \xa0 \xa0\xa0",(d*g).toFixed(2)," MATIC"]})]}),(0,i.jsxs)("div",{className:"z-20 flex items-center justify-between w-[70%] ml-[6%] mt-[36px]",children:[(0,i.jsx)("div",{className:"font-barlow font-normal text-white text-[36px] leading-[43px]",children:"Wallet Address"}),(0,i.jsxs)("div",{className:"flex items-center justify-center w-[60%] border-[1px] rounded-[5px] py-[10px] font-barlow font-normal text-white text-[32px] leading-[38px]",children:[F.slice(0,10),"....$",F.slice(-8)]})]}),R?(0,i.jsx)(m.Z,{}):(0,i.jsx)("button",{onClick:z,className:"".concat(l().placeRequestBtn," z-20 flex items-center justify-center mt-[40px] w-[287px] h-[52px] px-[20px] py-[5px] hover:bg-green-500 font-poppins font-bold text-[32px] leading-[48px] text-white transition-colors duration-300"),children:"Create Listing"}),(0,i.jsx)("div",{className:"".concat(""==P&&"hidden"," mt-[10px] text-right text-[green]"),children:P})]}),(0,i.jsx)("div",{className:l().bgPatch1}),(0,i.jsx)("div",{className:l().patch2Container,children:(0,i.jsx)("div",{className:l().bgPatch2})})]})]})}},6725:function(e){e.exports={main:"P2P_main__1Ek_Q",amountInput:"P2P_amountInput__B9hCr",pricePerUnitInput:"P2P_pricePerUnitInput___fXgl",amountInputSeller:"P2P_amountInputSeller__Op3x_",userReviewRatingDropDown:"P2P_userReviewRatingDropDown__skQuc",selected:"P2P_selected__Ggmn6",userReviewRatingDropDownText:"P2P_userReviewRatingDropDownText__O2rId",fadeIn:"P2P_fadeIn__GP3rG",ReviewRatingDropDownArrow:"P2P_ReviewRatingDropDownArrow__ozPIS",selectedArrow:"P2P_selectedArrow__Ybibw",dropdownRatingMenu:"P2P_dropdownRatingMenu__rZi5d",optionData:"P2P_optionData__WEBcT",ratingOptionName:"P2P_ratingOptionName__v0ZsW",dataRowContainer:"P2P_dataRowContainer__LR2ix",placeRequestBtn:"P2P_placeRequestBtn__rFBJT",bgPatch1:"P2P_bgPatch1__FAmwo",patch2Container:"P2P_patch2Container__ggxjD",bgPatch2:"P2P_bgPatch2__5L2S9"}},97256:function(e){e.exports={background:"SideBar_background__C0yRF",iconContainer:"SideBar_iconContainer__Y_df8",fadeIn:"SideBar_fadeIn__mpAyd",active:"SideBar_active__uH0x5"}},51522:function(e){e.exports={loading_spinner:"Spinner_loading_spinner__fjQYI",spinner:"Spinner_spinner__TBMs0",spinner_container:"Spinner_spinner_container__Af7_0"}}},function(e){e.O(0,[8247,3332,9774,2888,179],function(){return e(e.s=64187)}),_N_E=e.O()}]);